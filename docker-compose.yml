version: '3.8'
services:
    frontend: # Name of our service
        build: ./client # path to dockerfile
        ports: # Port binding to host from docker container
            - '3000:3000' # Bind port 3000 of host to 3000 of container
        container_name: frontend-docker
        restart: always # What to do if container crashes
        # l:
        #     - backend

    db:
        image: postgres:latest
        environment:
            - POSTGRES_USER=$DB_USER
            - POSTGRES_PASSWORD=$DB_PASSWORD
        ports:
            - $DB_PORT:$DB_PORT
        volumes:
            - ./db/data:/var/lib/postgresql/data
        restart: always
        command: -p $DB_PORT
